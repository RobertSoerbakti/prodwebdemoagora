console.log("Last modification time: 11/20/2020, 5:39:58 PM");
webpackJsonp([4],{"5lUT":function(t,e){},EEKM:function(t,e,a){t.exports=a.p+"static/img/ag-logo.c9b3e10.png"},GK12:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view",{staticClass:"full"})},staticRenderFns:[]};var i=a("VU/8")({name:"App"},n,!1,function(t){a("biX+")},null,null).exports,o=a("/ocq"),c=a("lbHh"),l={components:{BaseOptions:function(){return a.e(2).then(a.bind(null,"0+sj"))},AdvancedOptions:function(){return a.e(1).then(a.bind(null,"WjcE"))},InputChannel:function(){return a.e(0).then(a.bind(null,"9hiA"))}},data:function(){return{joinBtn:!1,channel:"",baseMode:"avc",transcode:"rtc",attendeeMode:"video",videoProfile:"480p_4",account:null}},methods:{handleChannel:function(t,e){this.channel=t},handleAccount:function(t,e){this.account=t},handleBaseMode:function(t){this.baseMode=t},handleTranscode:function(t){this.transcode=t},handleVideoProfile:function(t){this.videoProfile=t},handleAttendeeMode:function(t){this.attendeeMode=t.currentTarget.value},handleJoin:function(){this.joinBtn&&(c.set("channel",this.channel),c.set("baseMode",this.baseMode),c.set("transcode",this.transcode),c.set("attendeeMode",this.attendeeMode),c.set("videoProfile",this.videoProfile),c.set("account",this.account),this.$router.push("/meeting").catch(function(t){console.log(t)}))}},mounted:function(){var t=this;this.$nextTick(function(){window.addEventListener("keypress",function(e){13===e.keyCode&&t.handleJoin()})})},watch:{account:function(t){this.joinBtn=!!t}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper index"},[s("div",{staticClass:"ag-header"}),t._v(" "),s("div",{staticClass:"ag-main"},[s("section",{staticClass:"login-wrapper"},[s("div",{staticClass:"login-header"},[s("img",{attrs:{src:a("EEKM"),alt:""}}),t._v(" "),s("p",{staticClass:"login-title"},[t._v("AgoraRTCSDK-3.0.2")])]),t._v(" "),s("div",{staticClass:"login-body"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-12"},[s("InputChannel",{attrs:{placeholder:"Input a room name here"},on:{change:t.handleChannel}})],1)]),t._v(" "),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-12"},[s("BaseOptions",{staticClass:"hidess",on:{change:t.handleBaseMode}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"ag-rounded AccounName",attrs:{type:"text",placeholder:"Input a account name here"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})],1),t._v(" "),s("div",{staticClass:"column is-5 hidess"},[s("AdvancedOptions",{attrs:{onRadioChange:t.handleTranscode,onSelectChange:t.handleVideoProfile}})],1)]),t._v(" "),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("div",{staticClass:"control",attrs:{id:"attendeeMode"}},[s("label",{staticClass:"radio"},[s("input",{attrs:{value:"video",type:"radio",name:"attendee",checked:""},on:{click:t.handleAttendeeMode}}),t._v(" "),s("span",{staticClass:"radio-btn"}),t._v(" "),s("span",{staticClass:"radio-img video"}),t._v(" "),s("span",{staticClass:"radio-msg"},[t._v("Video Call : join with video call")])]),t._v(" "),s("br")])])])]),t._v(" "),s("div",{staticClass:"login-footer"},[s("a",{staticClass:"ag-rounded button is-info",attrs:{id:"joinBtn",disabled:!t.joinBtn},on:{click:t.handleJoin}},[t._v("Join\n\t\t\t\t")])])])])])},staticRenderFns:[]};var d=a("VU/8")(l,r,!1,function(t){a("U9QQ")},"data-v-fc7dade2",null).exports,A=a("r5KO"),u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ag-canvas"}},[a("div",{staticClass:"ag-btn-group"},[a("span",{staticClass:"ag-btn exitBtn",class:{disabled:!t.readyState},attrs:{title:"Exit"},on:{click:t.handleExit}},[a("i",{staticClass:"ag-icon ag-icon-leave"})]),t._v(" "),"video"===t.attendeeMode?a("span",{staticClass:"ag-btn videoControlBtn",attrs:{title:"Enable/Disable Video"},on:{click:t.handleCamera}},[a("i",{staticClass:"ag-icon ag-icon-camera"}),t._v(" "),a("i",{staticClass:"ag-icon ag-icon-camera-off"})]):t._e(),t._v(" "),"audience"!==t.attendeeMode?a("span",{staticClass:"ag-btn audioControlBtn",attrs:{title:"Enable/Disable Audio"},on:{click:t.handleMic}},[a("i",{staticClass:"ag-icon ag-icon-mic"}),t._v(" "),a("i",{staticClass:"ag-icon ag-icon-mic-off"})]):t._e(),t._v(" "),a("span",{staticClass:"ag-btn ChatWindow",attrs:{title:"Show/Hide Chat"},on:{click:t.handleChat}},[a("i",{staticClass:"far fa-comment",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("span",{staticClass:"ag-btn displayModeBtn",class:{disabled:1===t.streamList.length||3===t.streamList.length},attrs:{title:"Switch Display Mode"},on:{click:t.switchDisplay}},[a("i",{staticClass:"ag-icon ag-icon-switch-display"})]),t._v(" "),a("span",{staticClass:"ag-btn disableRemoteBtn",class:{disabled:1===t.streamList.length},attrs:{title:"Hide Remote Stream"},on:{click:t.hideRemote}},[a("i",{staticClass:"ag-icon ag-icon-remove-pip"})]),t._v(" "),"share"!==t.displayMode?a("span",{staticClass:"ag-btn screenShare",class:{disabled:1===t.streamList.length||3===t.streamList.length},attrs:{title:"Screen Share"},on:{click:t.handleScrenShare}},[a("i",{staticClass:"ag-icon ag-icon-screen-share"})]):t._e(),t._v(" "),"share"==t.displayMode?a("span",{staticClass:"ag-btn disablescreenShare",attrs:{title:"Stop Screen Share"},on:{click:t.handleRemoveScrenShare}},[a("i",{staticClass:"ag-icon ag-icon-invalid"})]):t._e()])])},staticRenderFns:[]};var h=function(t){a("dxHw")},m=a("VU/8")(A.a,u,!1,h,null,null).exports,p=a("iAr1"),g=a.n(p),v={data:function(){return{cssProps:{backgroundImage:"url("+a("ma+F")+")"},account:c.get("account"),channel:c.get("channel")||"test",appid:"ddb77ae4ffb344949b1f95a34b7f9ae0",RTM:null,channelRtm:null,ChatText:"",chatList:[]}},created:function(){this.RTM=g.a.createInstance(this.appid),this.RTM.on("ConnectionStateChanged",function(t,e){console.log("on connection state changed to "+t+" reason: "+e)})},mounted:function(){this.loginRtm()},methods:{loginRtm:function(){var t=this;this.RTM.login({token:null,uid:this.account}).then(function(){console.log("AgoraRTM client login success"),t.joinRtm()}).catch(function(t){console.log("AgoraRTM client login failure",t)})},logoutRtm:function(){this.RTM.logout()},joinRtm:function(){var t=this;this.channelRtm=this.RTM.createChannel(this.channel),this.channelRtm.join().then(function(){console.log("join-channel success"),t.recvMessage()}).catch(function(t){console.log("join-channel failure"),console.log(t)})},leaveRtm:function(){this.channelRtm.leave()},sendMessage:function(){var t=this,e=this.ChatText;this.channelRtm.sendMessage({text:e}).then(function(){var a={message:e,account:t.account,class:"left"};t.chatList.push(a),t.ChatText="",t.scrollToEnd()}).catch(function(t){console.log(t)})},recvMessage:function(){var t=this;this.channelRtm.on("ChannelMessage",function(e,a){var s={message:e.text,account:a,class:"right"};t.chatList.push(s),t.scrollToEnd()})},scrollToEnd:function(){var t=this;this.$nextTick(function(){t.$refs.BxChatListArea.scrollTop=1e5})}},beforeDestroy:function(){this.leaveRtm(),this.logoutRtm()}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"BxChat"},[a("div",{ref:"BxChatListArea",staticClass:"BxChat__BxPriview",attrs:{id:"Priview"}},t._l(t.chatList,function(e,s){return a("div",{key:s,staticClass:"BxChat__BxPriview--Chats",class:e.class},["left"==e.class?a("div",{staticClass:"chtAvatar",style:t.cssProps}):t._e(),t._v(" "),a("div",{staticClass:"chatText"},[a("span",{staticClass:"chatText__Title"},[t._v(t._s(e.account))]),t._v(" "),a("div",{staticClass:"chatText__Text"},[t._v("\n                   "+t._s(e.message)+"\n                ")])])])}),0),t._v(" "),a("div",{staticClass:"BxChat__BxInput"},[a("div",{staticClass:"BxChat__BxInput--BxInput"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ChatText,expression:"ChatText"}],attrs:{type:"text",placeholder:"Write your message..."},domProps:{value:t.ChatText},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage(e)},input:function(e){e.target.composing||(t.ChatText=e.target.value)}}})])])])},staticRenderFns:[]};var S={components:{AgoraVideoCall:m,AgoraChat:a("VU/8")(v,f,!1,function(t){a("idbR")},null,null).exports},data:function(){return{videoProfile:c.get("videoProfile").split(",")[0]||"480p_4",channel:c.get("channel")||"test",transcode:c.get("transcode")||"rtc",attendeeMode:c.get("attendeeMode")||"video",baseMode:c.get("baseMode")||"avc",uid:void 0,camera:c.get("camera"),audio:c.get("audio")}},created:function(){if(this.appId="ddb77ae4ffb344949b1f95a34b7f9ae0",!this.appId)return alert("Get App ID first!")}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper meeting"},[s("div",{staticClass:"ag-header"},[s("div",{staticClass:"ag-header-lead"},[s("img",{staticClass:"header-logo",attrs:{src:a("EEKM"),alt:""}}),t._v(" "),s("span",[t._v("AgoraWeb RTCSDK-3.0.2")])]),t._v(" "),s("div",{staticClass:"ag-header-msg"},[s("div",{staticClass:"ag-header-div"},[t._v("ROOM: "),s("span",{attrs:{id:"room-name"}},[t._v(t._s(t.channel))])]),t._v(" "),s("div",{staticClass:"ag-header-div"},[t._v("VIDEO INPUT: "),s("span",{attrs:{id:"room-name"}},[t._v(t._s(t.camera))])]),t._v(" "),s("div",{staticClass:"ag-header-div"},[t._v("AUDIO INPUT: "),s("span",{attrs:{id:"room-name"}},[t._v(t._s(t.audio))])])])]),t._v(" "),s("div",{staticClass:"ag-main"},[s("div",{staticClass:"ag-container"},[s("AgoraVideoCall",{attrs:{videoProfile:t.videoProfile,channel:t.channel,transcode:t.transcode,attendeeMode:t.attendeeMode,baseMode:t.baseMode,appId:t.appId,uid:t.uid}})],1),t._v(" "),s("div",{staticClass:"BxLive__BxRight hideWindow",attrs:{id:"WindowChat"}},[s("div",{staticClass:"BxLive__BxRight--BxTab"},[s("div",{staticClass:"tabTitle"}),t._v(" "),s("div",{staticClass:"tabContainer"},[s("AgoraChat")],1)])])])])},staticRenderFns:[]};var C=a("VU/8")(S,b,!1,function(t){a("PVd9")},"data-v-70b0a558",null).exports,y={methods:{HandleAgora:function(){this.$router.push("/home").catch(function(t){console.log(t)})}}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"BxLandingPage"},[e("div",{staticClass:"Title"},[this._v("\n        Please Choose Demo\n    ")]),this._v(" "),e("div",{staticClass:"bXbUTTON"},[e("div",{staticClass:"btnAgora",on:{click:this.HandleAgora}},[this._v("Agora")]),this._v(" "),e("a",{staticClass:"btnOpentook",attrs:{href:"https://opentok.neotebet.de/"}},[this._v("Opentok")])])])},staticRenderFns:[]};var L=a("VU/8")(y,x,!1,function(t){a("5lUT")},"data-v-2e9b7261",null).exports;s.a.use(o.a);var B=new o.a({mode:"history",base:"/prodwebdemoagora/",routes:[{path:"/",name:"Landing",component:L},{path:"/home",name:"Agora.Home",component:d},{path:"/meeting",name:"Meeting",component:C}]});a("GK12"),a("ao2D"),a("l4bg");s.a.config.productionTip=!1,new s.a({el:"#app",router:B,components:{App:i},template:"<App/>"})},PVd9:function(t,e){},U9QQ:function(t,e){},ao2D:function(t,e){},"biX+":function(t,e){},dxHw:function(t,e){},idbR:function(t,e){},l4bg:function(t,e){},"ma+F":function(t,e){t.exports="data:image/jpeg;base64,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"},r5KO:function(t,e,a){"use strict";(function(t){var s=a("c/Tr"),n=a.n(s),i=a("Gu7T"),o=a.n(i),c=a("M4fF"),l=(a.n(c),a("Gfsd")),r=a.n(l),d=a("lbHh"),A=(a.n(d),{1:["span 12/span 24"],2:["span 12/span 12/13/25","span 12/span 12/13/13"],3:["span 6/span 12","span 6/span 12","span 6/span 12/7/19"],4:["span 6/span 12","span 6/span 12","span 6/span 12","span 6/span 12/7/13"],5:["span 3/span 4/13/9","span 3/span 4/13/13","span 3/span 4/13/17","span 3/span 4/13/21","span 9/span 16/10/21"],6:["span 3/span 4/13/7","span 3/span 4/13/11","span 3/span 4/13/15","span 3/span 4/13/19","span 3/span 4/13/23","span 9/span 16/10/21"],7:["span 3/span 4/13/5","span 3/span 4/13/9","span 3/span 4/13/13","span 3/span 4/13/17","span 3/span 4/13/21","span 3/span 4/13/25","span 9/span 16/10/21"]});e.a={data:function(){return{client:{},localStream:{},shareClient:{},shareStream:{},shareScreenStatus:!1,displayMode:"pip",streamList:[],readyState:!1,intervalLocal:void 0,intevalRemote:void 0,showProfile:!1}},props:["transcode","attendeeMode","videoProfile","channel","baseMode","appId","uid"],methods:{streamInit:function(t,e,a,s){var n={streamID:t,audio:!0,video:!0,screen:!1};switch(e){case"audio-only":n.video=!1;break;case"audience":n.video=!1,n.audio=!1;break;default:case"video":}var i=r.a.createStream(Object(c.merge)(n,s));return i.setVideoProfile(a),i},subscribeStreamEvents:function(){var t=this;t.client.on("stream-added",function(e){var a=e.stream;console.log("New stream added: "+a.getId()),console.log("At "+(new Date).toLocaleTimeString()),console.log("Subscribe ",a),t.client.subscribe(a,function(t){console.log("Subscribe stream failed",t)})}),t.client.on("peer-leave",function(e){console.log("Peer has left: "+e.uid),console.log((new Date).toLocaleTimeString()),console.log(e),t.removeStream(e.uid)}),t.client.on("stream-subscribed",function(e){var a=e.stream;console.log("Got stream-subscribed event"),console.log((new Date).toLocaleTimeString()),console.log("Subscribe remote stream successfully: "+a.getId()),console.log(e),t.addStream(a)}),t.client.on("stream-removed",function(e){var a=e.stream;console.log("Stream removed: "+a.getId()),console.log((new Date).toLocaleTimeString()),console.log(e),t.removeStream(a.getId())})},removeStream:function(t){var e=this;this.streamList.map(function(a,s){if(a.getId()===t){a.close();var n=document.querySelector("#ag-item-"+t);n&&n.parentNode.removeChild(n);var i=[].concat(o()(e.streamList));i.splice(s,1),e.streamList=i}})},addStream:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.streamList.some(function(e){return e.getId()===t.getId()})||(this.streamList=e?this.streamList.concat([t]):[t].concat(this.streamList))},handleCamera:function(t){t.currentTarget.classList.toggle("off"),this.localStream.isVideoOn()?this.localStream.muteVideo():this.localStream.unmuteVideo()},handleMic:function(t){t.currentTarget.classList.toggle("off"),this.localStream.isAudioOn()?this.localStream.muteAudio():this.localStream.unmuteAudio()},switchDisplay:function(t){if(!(t.currentTarget.classList.contains("disabled")||this.streamList.length<=1))if("pip"===this.displayMode)this.displayMode="tile";else if("tile"===this.displayMode){document.querySelector(".BxRemoteStats").remove(),this.displayMode="pip"}else"share"===this.displayMode||console.error("Display Mode can only be tile/pip/share")},hideRemote:function(t){if(!(t.currentTarget.classList.contains("disabled")||this.streamList.length<=1)){var e=this.streamList[this.streamList.length-1].getId(),a=this.streamList[this.streamList.length-2].getId();if("pip"===this.displayMode&&3===this.streamList.length)n()(document.querySelectorAll("#ag-item-"+e+", #ag-item-"+a)).map(function(t){"none"!==t.style.display?t.style.display="none":t.style.display="block"});else if("pip"===this.displayMode&&2===this.streamList.length)n()(document.querySelectorAll(".ag-item:not(#ag-item-"+a+")")).map(function(t){"none"!==t.style.display?t.style.display="none":t.style.display="block"});else{var s=this.streamList[this.streamList.length-3].getId();n()(document.querySelectorAll("#ag-item-"+a+", #ag-item-"+s)).map(function(t){"none"!==t.style.display?t.style.display="none":t.style.display="block"})}}},handleExit:function(t){var e=this;if(!t.currentTarget.classList.contains("disabled"))try{this.client&&this.client.unpublish(this.localStream),this.localStream&&this.localStream.close(),this.client&&this.client.leave(function(){console.log("Client succeed to leave."),e.stopGetStastLocalStream()},function(){console.log("Client failed to leave.")})}finally{this.readyState=!1,this.client=null,this.localStream=null,this.$router.push("/")}},getStastLocalStream:function(){var t=this;this.intervalLocal=setInterval(function(){var e=document.querySelector("#stats"+t.streamList[0].getId()),a=t.localStream.getId();t.localStream.getStats(function(t){e.innerHTML="\n\t\t\t\t\t\t<span> Uid : "+a+"</span>\n\t\t\t\t\t\t<span> SDN Access Delay : "+t.accessDelay+" ms</span>\n\t\t\t\t\t\t<span> Video Send : "+t.videoSendFrameRate+" fps</span>\n\t\t\t\t\t"})},1e3)},stopGetStastLocalStream:function(){clearInterval(this.intervalLocal)},getStastRemoteStream:function(t){var e=this;this.intevalRemote=setInterval(function(){var a=document.querySelector("#statsRemote"+e.streamList[0].getId()),s=e.streamList[0].getId();t.getStats(function(t){a.innerHTML="\n\t\t\t\t\t\t<span> Uid : "+s+"</span>\n\t\t\t\t\t\t<span> SDN Access Delay : "+t.accessDelay+" ms</span>\n\t\t\t\t\t\t<span> Video recv : "+t.videoReceiveFrameRate+" fps</span>\n\t\t\t\t\t\t<span> End to end delay : "+t.endToEndDelay+" ms</span>\n\t\t\t\t\t"})},1e3)},stopGetStastRemoteStream:function(){clearInterval(this.intervalRemote)},streamInitShare:function(t,e,a,s){return r.a.createStream(Object(c.merge)({streamID:"SHARES",audio:!1,video:!1,screen:!0,mediaSource:"window"},s))},handleScrenShare:function(){var t=this;t.shareClient=r.a.createClient({mode:"rtc",codec:"vp8"}),t.shareClient.init(t.appId,function(){t.shareClient.join(t.appId,t.channel,void 0,function(e){t.shareStream=t.streamInitShare(e,"720p_1"),t.shareStream.init(function(){t.shareClient.publish(t.shareStream,function(t){console.log("Publish local stream error: "+t)}),t.addStream(t.shareStream,!0),t.shareScreenStatus=!0,t.displayMode="share"},function(t){console.log("getUserMedia failed",t)})})},function(t){console.log("init Failed",t)})},handleRemoveScrenShare:function(){var t=this;this.shareClient&&this.shareClient.unpublish(this.shareStream),this.shareStream&&this.shareStream.close(),this.shareClient&&this.shareClient.leave(function(){console.log("Share Screen Success Remove."),t.displayMode="pip";var e=document.querySelector(".BxLocalStats"),a=document.querySelector(".BxRemoteStats");e.classList.remove("LocalStatsShare"),a.classList.remove("RemoteStatsShare")},function(){console.log("Share Screen failed to Remove.")})},handleShowInfo:function(){this.showProfile=!0;var t=document.querySelector(".BxRemoteStats"),e=document.querySelector(".BxLocalStats");e&&e.classList.remove("HideInfodiv"),t&&t.classList.remove("HideInfodiv")},handleHideInfo:function(){this.showProfile=!1;var t=document.querySelector(".BxRemoteStats"),e=document.querySelector(".BxLocalStats");e&&e.classList.add("HideInfodiv"),t&&t.classList.add("HideInfodiv")},handleChat:function(){var t=document.querySelector("#WindowChat");t.classList.contains("hideWindow")?t.classList.remove("hideWindow"):t.classList.add("hideWindow")}},created:function(){var t=this;r.a.Logger.setLogLevel(r.a.Logger.INFO),r.a.Logger.enableLogUpload(),r.a.getDevices(function(t){t.length,t[0].deviceId;console.log(t)},function(t){console.error("Failed to getDevice",t)}),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(function(t){return r.a.getSupportedCodec({stream:t})}).then(function(t){console.log("Supported video codec: "+t.video.join(",")),console.log("Supported audio codec: "+t.audio.join(","))}),r.a.getDevices(function(t){var e=t.filter(function(t){return"audioinput"===t.kind}),a=t.filter(function(t){return"videoinput"===t.kind});d.set("camera",a[0].label),d.set("audio",e[0].label)});var e=this;e.client=r.a.createClient({mode:e.transcode}),e.client.init(e.appId,function(){console.log("AgoraRTC client initialized"),e.subscribeStreamEvents(),e.client.join(e.appId,e.channel,e.uid,function(a){var s=(new Date).toLocaleTimeString("en-US",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"});console.log("User "+a+" join channel successfully At "+s),e.client.enableDualStream(function(){console.log("Enable dual stream success!")},function(t){console.log(t)}),e.localStream=t.streamInit(a,e.attendeeMode,e.videoProfile),e.localStream.init(function(){"audience"!==e.attendeeMode&&(e.addStream(e.localStream,!0),e.client.publish(e.localStream,function(t){console.log("Publish local stream error: "+t)})),e.readyState=!0,t.getStastLocalStream()},function(t){console.log("getUserMedia failed",t),e.readyState=!0}),e.localStream.on("accessDenied",function(){console.log("accessDenied")})})})},mounted:function(){this.$nextTick(function(){var e=document.querySelector("#ag-canvas"),a=document.querySelector(".ag-btn-group");e.addEventListener("mousemove",function(){t._toolbarToggle&&clearTimeout(t._toolbarToggle),a.classList.add("active"),t._toolbarToggle=setTimeout(function(){a.classList.remove("active")},2e3)})})},beforeUpdate:function(t){var e=this,a=document.querySelector("#ag-canvas");if("pip"===e.displayMode){var s=e.streamList.length;if(s>4)return void(e.displayMode="tile");if(3===s)e.streamList.map(function(t,n){var i=t.getId(),o=document.querySelector("#ag-item-"+i),c=document.querySelector(".BxRemoteStats"),l=document.querySelector(".BxLocalStats");if(o||((o=document.createElement("section")).setAttribute("id","ag-item-"+i),o.setAttribute("class","ag-item"),a.appendChild(o),t.play("ag-item-"+i)),n===s-1){o.setAttribute("style","grid-area: span 2/span 3/9/25;\n\t\t\t\t\t\t\tz-index:1;width:calc(100% - 20px);height:calc(100% - 20px);position:relative;");var r=document.querySelector("#ag-item-"+i),d=document.createElement("div");d.id="stats"+e.streamList[0].getId(),d.className="BxLocalStats HideInfodiv",r.appendChild(d),c.remove()}else if(n===s-2){o.setAttribute("style","grid-area: span 2/span 3/11/25;\n\t\t\t\t\t\t\tz-index:1;width:calc(100% - 20px);height:calc(100% - 20px);position:relative;");var A=document.querySelector("#ag-item-"+i),u=document.createElement("div");u.id="statsRemote"+e.streamList[0].getId(),u.className="BxRemoteStats HideInfodiv",u.classList.add("RemoteStatsShare"),A.appendChild(u),l.remove(),e.getStastRemoteStream(t)}else if(n===s-3){o.setAttribute("style","grid-area: span 12/span 24/13/25"),document.querySelector("#video"+e.streamList[0].getId()).setAttribute("style","width: 100%;height: 100%;position: absolute;object-fit: contain;")}t.player.resize&&t.player.resize()});else{var n=document.querySelector(".RemoteStatsShare");n&&n.remove(),e.streamList.map(function(t,n){var i=t.getId(),o=document.querySelector("#ag-item-"+i);if(o||((o=document.createElement("section")).setAttribute("id","ag-item-"+i),o.setAttribute("class","ag-item"),a.appendChild(o),t.play("ag-item-"+i)),n===s-1){o.setAttribute("style","grid-area: span 3/span 4/4/25;\n\t\t\t\t\t\t\tz-index:1;width:calc(100% - 20px);height:calc(100% - 20px);position:relative;");var c=document.querySelector("#ag-item-"+i),l=document.createElement("div");l.id="stats"+e.streamList[0].getId(),l.className="BxLocalStats HideInfodiv",c.appendChild(l)}else if(n===s-2){o.setAttribute("style","grid-area: span 12/span 24/13/25");var r=document.querySelector("#ag-item-"+i),d=document.createElement("div");d.id="statsRemote"+e.streamList[0].getId(),d.className="BxRemoteStats HideInfodiv",r.appendChild(d),e.getStastRemoteStream(t),document.querySelector(".BxLocalStats").remove()}else o.setAttribute("style","grid-area: span 3/span 4/"+(4+3*n)+"/25;\n\t\t\t\t\t\t\tz-index:1;width:calc(100% - 20px);height:calc(100% - 20px)");t.player.resize&&t.player.resize()})}}else if("tile"===e.displayMode){var i=e.streamList.length;e.streamList.map(function(t,e){var s=t.getId(),n=document.querySelector("#ag-item-"+s);n||((n=document.createElement("section")).setAttribute("id","ag-item-"+s),n.setAttribute("class","ag-item"),a.appendChild(n),t.play("ag-item-"+s)),n.setAttribute("style","grid-area: "+A[i][e]+";position:relative;"),document.querySelector(".BxLocalStats").setAttribute("style","top: 10px;left: 10px;width: auto;font-size: .625rem;border-radius: 4px;height: fit-content;border-top-right-radius: 4px;"),t.player.resize&&t.player.resize()})}else if("share"===e.displayMode){var o=e.streamList.length;e.streamList.map(function(t,e){var s=t.getId(),n=document.querySelector("#ag-item-"+s);if(n||((n=document.createElement("section")).setAttribute("id","ag-item-"+s),n.setAttribute("class","ag-item"),a.appendChild(n),t.play("ag-item-"+s)),e===o-1)n.setAttribute("style","grid-area: span 12/span 24/13/25");else if(e===o-2){n.setAttribute("style","grid-area: span 2/span 3/9/25;\n\t\t\t\t\t\tz-index:1;width:calc(100% - 20px);height:calc(100% - 20px);position:relative;"),document.querySelector(".BxRemoteStats").classList.add("RemoteStatsShare")}else if(e===o-3){n.setAttribute("style","grid-area: span 2/span 3/11/25;\n\t\t\t\t\t\tz-index:1;width:calc(100% - 20px);height:calc(100% - 20px);position:relative;"),document.querySelector(".BxLocalStats").classList.add("LocalStatsShare")}t.player.resize&&t.player.resize()})}},beforeDestroy:function(){this.client&&this.client.unpublish(this.localStream),this.localStream&&this.localStream.close(),this.client&&this.client.leave(function(){console.log("Client succeed to leave.")},function(){console.log("Client failed to leave.")})}}}).call(e,a("DuR2"))}},["NHnr"]);
//# sourceMappingURL=app.8e91d8b12d1b5e694edd.js.map